---
id: igcis
name: README
file_version: 1.0.2
app_version: 0.7.3-0
---

# sqlalchemy_explore
tools for exploring databases using sqlalchemy

<br/>

## installation

<br/>

> ```
> pip install sqlalchemy_explore
> ```

<br/>

## Features

<br/>

1. Base class for relective usage of classes
2. Database exploration tool

<br/>

## Base class for relective usage of classes

<br/>

### Usage

<br/>

Make the declarative base clsss provided by SQLAlchemy derive from `sqlalchemy_explore.ReflectiveMixin`

<br/>

```
import sqlalchemy_explore
Base = declarative_base(cls=cls=sqlalchemy_explore.ReflectiveMixin)
```

<br/>

now all of your instances support the following functions:
* `sa_keys()` - returns the keys/column names that SQLAlchemy is mapping
* `sa_dict()` - return key/value pairs of all the columns in the object
* `__repr__()` - str represetation of the object that includes all the columns

<br/>

### Example
Imagine you have a couple of classes represnting tables in SQLAlchemy 

<br/>

```python
Base = declarative_base()

<br/>

class Artist(Base):
    __tablename__ = 'artists'

<br/>

```
ArtistId = Column(Integer, primary_key=True)
Name = Column(NVARCHAR(120))
```

<br/>


class Album(Base):
    __tablename__ = 'albums'

<br/>

```
AlbumId = Column(Integer, primary_key=True)
Title = Column(NVARCHAR(160), nullable=False)
ArtistId = Column(ForeignKey('artists.ArtistId'), nullable=False, index=True)
```

<br/>

    artist = relationship('Artist')
```

<br/>

dynamiclly iterating through the column names and values of a mapped object requires a lot of boiler plate code.
but `sqlalchemy_explore` lets you do this very easily. to enable it on your classes 

<br/>

```
import sqlalchemy_explore
Base = declarative_base(cls=cls=sqlalchemy_explore.ReflectiveMixin)
```

<br/>

and continue having your classes inherit from Base.

<br/>

now formatted printing is avaiable to all your objects

```
artist = Artist(ArtistId=1, Name='Norah Jones')
print('hello', artist)
```

output:

> `hello Artist(ArtistId=1, Name='Norah Jones')`

<br/>

```
album = Album(AlbumId=1, Title='Come Away with Me', ArtistId=artist.ArtistId)
print('buy', album)
```

output:

> `buy Album(AlbumId=1, Title='Come Away with Me', ArtistId=1)`

<br/>

also you can iterate over a dict of column names/values in your object

```
print(album.sa_dict())
```

output:

> `{'AlbumId': 1, 'Title': 'Come Away with Me', 'ArtistId': 1}`

<br/>

## Database exploration tool

<br/>

when using sqlalchemy_explore as a tool, it can dump the schema of database tables to help you figure out what's in the DB

<br/>

At the minimum, you have to give sqlalchemy_explore a database URL or a path to a local sqlite database. The URL is passed directly to SQLAlchemy’s create_engine() method so please refer to SQLAlchemy’s documentation for instructions on how to construct a proper URL.

<br/>

Examples:

<br/>

> ```
> python -m sqlalchemy_explore database.db
> python -m sqlalchemy_explore postgresql:///some_local_db
> python -m sqlalchemy_explore mysql+oursql://user:password@localhost/dbname
> python -m sqlalchemy_explore sqlite:///database.db
> ```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBc3FsYWxjaGVteS1leHBsb3JlJTNBJTNBYXZpYWRyMQ==/docs/igcis).